{"ast":null,"code":"import _asyncToGenerator from \"D:/dev/angular-module-federation-sample/v16/host/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { loadRemoteModule } from '@angular-architects/module-federation';\nimport { ViewContainerRef } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"placeHolder\"];\nexport class RemoteButtonLinkComponent {\n  constructor(viewContainerRef, cfr) {\n    this.viewContainerRef = viewContainerRef;\n    this.cfr = cfr;\n    this.name = '';\n    this.url = '';\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      //eg: with ComponentFactoryResolver which is deprecated\n      const {\n        ButtonLinkComponent\n      } = yield loadRemoteModule({\n        type: 'module',\n        remoteEntry: 'http://localhost:4200/remoteEntry.js',\n        exposedModule: './RemoteButtonLinkComponent'\n      });\n      const componentRef = _this.viewContainerRef.createComponent(_this.cfr.resolveComponentFactory(ButtonLinkComponent));\n      componentRef.instance.name = _this.name;\n      componentRef.instance.url = _this.url;\n      //eg: just create the component without the need of ComponentFactoryResolver\n      const viewContainerRef = _this.viewContainerRef.createComponent(ButtonLinkComponent);\n      viewContainerRef.setInput('name', _this.name);\n      viewContainerRef.setInput('url', _this.url);\n    })();\n  }\n}\nRemoteButtonLinkComponent.ɵfac = function RemoteButtonLinkComponent_Factory(t) {\n  return new (t || RemoteButtonLinkComponent)(i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver));\n};\nRemoteButtonLinkComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RemoteButtonLinkComponent,\n  selectors: [[\"app-remote-button-link\"]],\n  viewQuery: function RemoteButtonLinkComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7, ViewContainerRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.viewContainer = _t.first);\n    }\n  },\n  inputs: {\n    name: \"name\",\n    url: \"url\"\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[\"placeHolder\", \"\"]],\n  template: function RemoteButtonLinkComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, null, 0);\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["loadRemoteModule","ViewContainerRef","RemoteButtonLinkComponent","constructor","viewContainerRef","cfr","name","url","ngOnInit","_this","_asyncToGenerator","ButtonLinkComponent","type","remoteEntry","exposedModule","componentRef","createComponent","resolveComponentFactory","instance","setInput","i0","ɵɵdirectiveInject","ComponentFactoryResolver","selectors","viewQuery","RemoteButtonLinkComponent_Query","rf","ctx","ɵɵelementContainer"],"sources":["D:\\dev\\angular-module-federation-sample\\v16\\host\\src\\app\\components\\remote-button-link\\remote-button-link.component.ts","D:\\dev\\angular-module-federation-sample\\v16\\host\\src\\app\\components\\remote-button-link\\remote-button-link.component.html"],"sourcesContent":["import { loadRemoteModule } from '@angular-architects/module-federation';\nimport { Component, ComponentFactoryResolver, ComponentRef, Input, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\n\n@Component({\n  selector: 'app-remote-button-link',\n  templateUrl: './remote-button-link.component.html',\n  styleUrls: ['./remote-button-link.component.scss']\n})\nexport class RemoteButtonLinkComponent implements OnInit {\n  @ViewChild('placeHolder', { read: ViewContainerRef, static: true })\n  viewContainer!: ViewContainerRef\n  @Input() name = ''\n  @Input() url = ''\n  constructor(\n    private viewContainerRef: ViewContainerRef,\n    private cfr: ComponentFactoryResolver\n  ){}\n  async ngOnInit(){\n    //eg: with ComponentFactoryResolver which is deprecated\n    const {ButtonLinkComponent} = await loadRemoteModule({\n      type: 'module',\n      remoteEntry: 'http://localhost:4200/remoteEntry.js',\n      exposedModule: './RemoteButtonLinkComponent',\n    });\n\n    const componentRef: ComponentRef<any> = this.viewContainerRef.createComponent(\n      this.cfr.resolveComponentFactory(ButtonLinkComponent)\n    );\n\n    componentRef.instance.name = this.name\n    componentRef.instance.url = this.url\n\n    //eg: just create the component without the need of ComponentFactoryResolver\n    const viewContainerRef = this.viewContainerRef.createComponent(ButtonLinkComponent)\n    viewContainerRef.setInput('name', this.name)\n    viewContainerRef.setInput('url', this.url)\n\n  }\n}\n","<!--Used for the example of creating component without ComponentFactoryResolver -->\r\n<ng-container #placeHolder></ng-container>"],"mappings":";AAAA,SAASA,gBAAgB,QAAQ,uCAAuC;AACxE,SAAsFC,gBAAgB,QAAQ,eAAe;;;AAO7H,OAAM,MAAOC,yBAAyB;EAKpCC,YACUC,gBAAkC,EAClCC,GAA6B;IAD7B,KAAAD,gBAAgB,GAAhBA,gBAAgB;IAChB,KAAAC,GAAG,GAAHA,GAAG;IAJJ,KAAAC,IAAI,GAAG,EAAE;IACT,KAAAC,GAAG,GAAG,EAAE;EAIf;EACIC,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACZ;MACA,MAAM;QAACC;MAAmB,CAAC,SAASX,gBAAgB,CAAC;QACnDY,IAAI,EAAE,QAAQ;QACdC,WAAW,EAAE,sCAAsC;QACnDC,aAAa,EAAE;OAChB,CAAC;MAEF,MAAMC,YAAY,GAAsBN,KAAI,CAACL,gBAAgB,CAACY,eAAe,CAC3EP,KAAI,CAACJ,GAAG,CAACY,uBAAuB,CAACN,mBAAmB,CAAC,CACtD;MAEDI,YAAY,CAACG,QAAQ,CAACZ,IAAI,GAAGG,KAAI,CAACH,IAAI;MACtCS,YAAY,CAACG,QAAQ,CAACX,GAAG,GAAGE,KAAI,CAACF,GAAG;MAEpC;MACA,MAAMH,gBAAgB,GAAGK,KAAI,CAACL,gBAAgB,CAACY,eAAe,CAACL,mBAAmB,CAAC;MACnFP,gBAAgB,CAACe,QAAQ,CAAC,MAAM,EAAEV,KAAI,CAACH,IAAI,CAAC;MAC5CF,gBAAgB,CAACe,QAAQ,CAAC,KAAK,EAAEV,KAAI,CAACF,GAAG,CAAC;IAAA;EAE5C;;AA7BWL,yBAAyB,C;mBAAzBA,yBAAyB,EAAAkB,EAAA,CAAAC,iBAAA,CAAAD,EAAA,CAAAnB,gBAAA,GAAAmB,EAAA,CAAAC,iBAAA,CAAAD,EAAA,CAAAE,wBAAA;AAAA;AAAzBpB,yBAAyB,C;QAAzBA,yBAAyB;EAAAqB,SAAA;EAAAC,SAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;6BACFzB,gBAAgB;;;;;;;;;;;;;;;;MCRpDmB,EAAA,CAAAQ,kBAAA,YAA0C"},"metadata":{},"sourceType":"module","externalDependencies":[]}